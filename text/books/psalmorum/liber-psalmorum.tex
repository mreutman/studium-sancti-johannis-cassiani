\input{env-printer}

\setmainfont[
  Path = ./fonts/dueblo/,
  Extension = .otf,
  UprightFont = *-MED,
  BoldFont = *-BOL,
  ItalicFont = *-REG,
  BoldItalicFont = *-BOL,
  Ligatures = {NoCommon, NoDiscretionary},
]{Dueblo-SEMI-EXT}

\newfontfamily{\liturgy}[
  Path = ./fonts/liturgy/,
  Extension = .ttf,
  UprightFont = *-Regular,
]{Liturgy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% FUNCTIONS

\newcommand{\symbolCross}{{\liturgy +}}
\newcommand{\symbolResponse}{{\liturgy R}}
\newcommand{\symbolVersicle}{{\liturgy V}}

\newcommand{\verseFirstLetter}[1]
  {{\sizeVerseFirstLetter #1}}

\newcommand{\verseNum}[1]
  {\noindent{{\textup{\textsuperscript{\itshape\sizeVerseNumber #1.}}}}}

\newcommand{\verseNumInscription}[1]
  {\noindent{{\textup{\textsuperscript{\itshape\sizeVerseNumberInscription #1.}}}}}

%\newcommand{\psalmDivision}[2]{%
  %%{\hfill \fmtSectionTextHeader DIVISIO #1,#2 \hfill}
  %%{\hfill \fmtSectionTextHeader DIVISIO #1,#2 \hfill}

  %\needspace{2\baselineskip}
  %\begin{center}
  %%{\noindent\raisebox{0.9ex}{\rule{2em}{1pt}}~~~{\scriptsize \raisebox{0.9ex}{\symbolCross}}~~{\bfseries\large\addfontfeature{LetterSpace=5.0}\fontdimen2\font=0.5em \textsc{Divizio} \RomanNumeralCaps{#1},~\RomanNumeralCaps{#2}.}~~{\scriptsize \raisebox{0.9ex}{\symbolCross}}~~~\raisebox{0.9ex}{\rule{28em}{1pt}}}
  %\raisebox{0.9ex}{\rule{13em}{1pt}}~~{\scriptsize \raisebox{0.9ex}{\symbolCross}}~~{\bfseries\large\addfontfeature{LetterSpace=5.0}\fontdimen2\font=0.5em\textsc{Divizio} \RomanNumeralCaps{#1},~\RomanNumeralCaps{#2}.}~~{\scriptsize \raisebox{0.9ex}{\symbolCross}}~~\raisebox{0.9ex}{\rule{13em}{1pt}}
  %\end{center}
%}

\newcommand{\psalmChapterNumberTitle}[1]{%
  {%
    \bfseries\psalmTitleFormat \textsc{Psalmus} {%
      \psalmTitleNumberFormat\RomanNumeralCaps{#1}.
    }
  }
}

\newcommand{\psalmBody}[1]{%
  \noindent\textsc{\psalmBodyFormat #1}\\
}

\newcommand{\psalmChapterNumberBegin}{%
  \begingroup
  \raggedright
  \leftskip=\psalmChapterNumberIndent
  \advance\csname @rightskip\endcsname \leftskip \advance\rightskip \leftskip
  \psalmChapterNumberFormat
  \setstretch{\psalmChapterNumberSpacing}
}

\newcommand{\psalmChapterNumberEnd}{%
  \par
  \endgroup
}

\newcommand{\psalmChapterNumber}[1]{
  {%
    \psalmChapterNumberBegin
    \noindent\psalmChapterNumberTitle{#1}
    \psalmChapterNumberEnd
  }
}

\newcommand{\psalmChapterNumberInscription}[2]{
  {%
    \psalmChapterNumberBegin
    \noindent\psalmChapterNumberTitle{#1}~\textsc{\psalmInscriptionFormat #2}
    \psalmChapterNumberEnd
  }
}

\newcommand{\decorateL}{\raisebox{0.9ex}{\rule{13em}{1pt}}~~{\scriptsize \raisebox{0.9ex}{\symbolCross}}}
\newcommand{\decorateR}{{\scriptsize \raisebox{0.9ex}{\symbolCross}}~~\raisebox{0.9ex}{\rule{13em}{1pt}}}

\newcommand{\psalmDivision}[2]{%
  {%
    \psalmDivisionFormat
    \textsc{Divizio} \RomanNumeralCaps{#1},~\RomanNumeralCaps{#2}.
  }
}

% PUBLIC - - - - - - - - - - - - -
\newcommand{\psalmBeginDivision}[3]{%
  \psalmChapterDivisionNeedSpace
  {%
    \centering
    \decorateL~~\psalmDivision{#2}{#3}~~\decorateR
  }

  \psalmChapterTitleBodySkip

  \psalmBody{#1}
}

\newcommand{\psalmChapterBeginDivision}[4]{%
  \psalmChapterDivisionNeedSpace
  {%
    \centering
    \decorateL~~\psalmDivision{#3}{#4}~~\decorateR

    {%
      \psalmChapterNumber{#1}
    }
  }

  \psalmChapterTitleBodySkip

  \psalmBody{#2}
}

\newcommand{\psalmChapter}[2]{%
  \psalmChapterNeedSpace
  {%
    \psalmChapterNumber{#1}
  }

  \psalmChapterTitleBodySkip

  \psalmBody{#2}
}

\newcommand{\psalmChapterInscriptionBeginDivision}[5]{%
  \psalmChapterDivisionNeedSpace
  {%
    \centering
    \decorateL~~\psalmDivision{#4}{#5}~~\decorateR

    {%
      \psalmChapterNumberInscription{#1}{#2}
    }
  }

  \psalmChapterTitleBodySkip

  \psalmBody{#3}
}

\newcommand{\psalmChapterInscription}[3]{%
  \psalmChapterNeedSpace
  {%
    \psalmChapterNumberInscription{#1}{#2}
  }

  \psalmChapterTitleBodySkip

  \psalmBody{#3}
}

%\newcommand{\psalmChapter}[2]{%
  %\needspace{1\baselineskip}
  %\begin{nscenter}
  %\parbox{0.78\textwidth}{%
    %\begin{spacing}{1.25}
    %\psalmChapterNumberTitle{#1}
    %\end{spacing}
  %}
  %\end{nscenter}

  %\medskip

  %\psalmBody{#2}
%}

% PUBLIC - - - - - - - - - - - - - - - - - - - -
\newcommand{\psalmChapterWithInscription}[3]{%
  \needspace{1\baselineskip}
  \begin{nscenter}
  \parbox{0.78\textwidth}{%
    \begin{spacing}{1.25}
    \psalmChapterNumberTitle{#1}~~~\textsc{\itshape\sizePsalmInscription #2}
    \end{spacing}
  }
  \end{nscenter}

  \medskip

  \psalmBody{#3}
}

% PUBLIC - - - - - - - - -
\newcommand{\prayer}[2]{%
  \psalmChapter{#1}{#2}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DOCUMENT
\setlength{\emergencystretch}{6em}
\EverySelectfont{%
%\fontdimen2\font=1em% interword space
\fontdimen3\font=2em% interword stretch
%\fontdimen4\font=0.1em% interword shrink
%\fontdimen7\font=0.5em% extra space
}

\begin{document}
%\tolerance=6000
%\emergencystretch=6em

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/001-la}%\skipAfterPsalm
\input{psalms/002-la}%\skipAfterPsalm
\input{psalms/003-la}%\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/004-la}\skipAfterPsalm
\input{psalms/005-la}\skipAfterPsalm
\input{psalms/006-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/007-la}\skipAfterPsalm
\input{psalms/008-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/009-la}\skipAfterPsalm
\input{psalms/010-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/011-la}\skipAfterPsalm
\input{psalms/012-la}\skipAfterPsalm
\input{psalms/013-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/014-la}\skipAfterPsalm
\input{psalms/015-la}\skipAfterPsalm
\input{psalms/016-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/017-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/018-la}\skipAfterPsalm
\input{psalms/019-la}\skipAfterPsalm
\input{psalms/020-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/021-la}\skipAfterPsalm
\input{psalms/022-la}\skipAfterPsalm
\input{psalms/023-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/024-la}\skipAfterPsalm
\input{psalms/025-la}\skipAfterPsalm
\input{psalms/026-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/027-la}\skipAfterPsalm
\input{psalms/028-la}\skipAfterPsalm
\input{psalms/029-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/030-la}\skipAfterPsalm
\input{psalms/031-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/032-la}\skipAfterPsalm
\input{psalms/033-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/034-la}\skipAfterPsalm
\input{psalms/035-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/036-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/037-la}\skipAfterPsalm
\input{psalms/038-la}\skipAfterPsalm
\input{psalms/039-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/040-la}\skipAfterPsalm
\input{psalms/041-la}\skipAfterPsalm
\input{psalms/042-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/043-la}\skipAfterPsalm
\input{psalms/044-la}\skipAfterPsalm
\input{psalms/045-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/046-la}\skipAfterPsalm
\input{psalms/047-la}\skipAfterPsalm
\input{psalms/048-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/049-la}\skipAfterPsalm
\input{psalms/050-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/051-la}\skipAfterPsalm
\input{psalms/052-la}\skipAfterPsalm
\input{psalms/053-la}\skipAfterPsalm
\input{psalms/054-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/055-la}\skipAfterPsalm
\input{psalms/056-la}\skipAfterPsalm
\input{psalms/057-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/058-la}\skipAfterPsalm
\input{psalms/059-la}\skipAfterPsalm
\input{psalms/060-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/061-la}\skipAfterPsalm
\input{psalms/062-la}\skipAfterPsalm
\input{psalms/063-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/064-la}\skipAfterPsalm
\input{psalms/065-la}\skipAfterPsalm
\input{psalms/066-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/067-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/068-la}\skipAfterPsalm
\input{psalms/069-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/070-la}\skipAfterPsalm
\input{psalms/071-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/072-la}\skipAfterPsalm
\input{psalms/073-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/074-la}\skipAfterPsalm
\input{psalms/075-la}\skipAfterPsalm
\input{psalms/076-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/077-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/078-la}\skipAfterPsalm
\input{psalms/079-la}\skipAfterPsalm
\input{psalms/080-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/081-la}\skipAfterPsalm
\input{psalms/082-la}\skipAfterPsalm
\input{psalms/083-la}\skipAfterPsalm
\input{psalms/084-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/085-la}\skipAfterPsalm
\input{psalms/086-la}\skipAfterPsalm
\input{psalms/087-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/088-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/089-la}\skipAfterPsalm
\input{psalms/090-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/091-la}\skipAfterPsalm
\input{psalms/092-la}\skipAfterPsalm
\input{psalms/093-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/094-la}\skipAfterPsalm
\input{psalms/095-la}\skipAfterPsalm
\input{psalms/096-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/097-la}\skipAfterPsalm
\input{psalms/098-la}\skipAfterPsalm
\input{psalms/099-la}\skipAfterPsalm
\input{psalms/100-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/101-la}\skipAfterPsalm
\input{psalms/102-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/103-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/104-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/105-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/106-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/107-la}\skipAfterPsalm
\input{psalms/108-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/109-la}\skipAfterPsalm
\input{psalms/110-la}\skipAfterPsalm
\input{psalms/111-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/112-la}\skipAfterPsalm
\input{psalms/113-la}\skipAfterPsalm
\input{psalms/114-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/115-la}\skipAfterPsalm
\input{psalms/116-la}\skipAfterPsalm
\input{psalms/117-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/118a-la}\skipAfterPsalmContinue

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/118b-la}\skipAfterPsalmContinue

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/118c-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/119-la}\skipAfterPsalm
\input{psalms/120-la}\skipAfterPsalm
\input{psalms/121-la}\skipAfterPsalm
\input{psalms/122-la}\skipAfterPsalm
\input{psalms/123-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/124-la}\skipAfterPsalm
\input{psalms/125-la}\skipAfterPsalm
\input{psalms/126-la}\skipAfterPsalm
\input{psalms/127-la}\skipAfterPsalm
\input{psalms/128-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/129-la}\skipAfterPsalm
\input{psalms/130-la}\skipAfterPsalm
\input{psalms/131-la}\skipAfterPsalm
\input{psalms/132-la}\skipAfterPsalm
\input{psalms/133-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/134-la}\skipAfterPsalm
\input{psalms/135-la}\skipAfterPsalm
\input{psalms/136-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/137-la}\skipAfterPsalm
\input{psalms/138-la}\skipAfterPsalm
\input{psalms/139-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/140-la}\skipAfterPsalm
\input{psalms/141-la}\skipAfterPsalm
\input{psalms/142-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/143-la}\skipAfterPsalm
\input{psalms/144-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/145-la}\skipAfterPsalm
\input{psalms/146-la}\skipAfterPsalm
\input{psalms/147-la}\skipAfterPsalm

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
\input{psalms/148-la}\skipAfterPsalm
\input{psalms/149-la}\skipAfterPsalm
\input{psalms/150-la}\skipAfterPsalm

\end{document}


